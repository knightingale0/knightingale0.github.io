<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!--
Nick Montfort
 Original Python program:
 8 January 2009, Taroko Gorge National Park, Taiwan and Eva Air Flight 28
 This JavaScript version, with links:
 1 March 2016

Copyright (c) 2009-2016 Nick Montfort <nickm@nickm.com>

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY
SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR
IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
-->

  <style type="text/css">
    /* <![CDATA[ */
    body {
      background: rgb(97, 178, 161);
      /* background-image: url("../images/WatkinsGlenStatePark-xb1tpf05xt0jn3f-446653346.jpg"); */
      background-position: center top;
      margin: 0 24pt 0 24pt;
      font-family: Optima, sans-serif;
      font-size: 20pt;
    }

    div {
      height: 16pt;
      color: rgb(85, 129, 171);
    }

    a {
      color: #876;
      text-decoration: none;
    }

    #foam {
      color: white;
    }

    #credit-list {
      float: right;
      margin-top: 22px;
      color: rgb(32, 121, 56);
      height: 60pt;
      font-size: 10pt;
    }

    /* ]]> */
  </style>

  <script type="text/javascript">
    var t = 0;
    var n = 0;
    var paths = 0;

    var above = 'ridge,mist,flow,layer,bend,stone,shadow,tree'.split(',');
    var below = 'flow,basin,rippling,stone,cove,rock'.split(',');
    var trans = 'billow,pace,roam,trail,frame,sweep,bend,range'.split(',');
    var imper = 'track,shade,wander,direct,run,enter';
    imper = imper.split(',');
    var intrans = 'linger,fall,dwell,rest,wave,dream,hum,drip'.split(',');
    var s = 's,'.split(',');
    var texture = 'rough,fine,smooth,wet'.split(',');


    function rand_range(max) {
      return Math.floor(Math.random() * (max + 1));
    }

    function choose(array) {
      return array[rand_range(array.length - 1)];
    }


    function path() {
      var p = rand_range(1);
      var words = choose(above);
      if ((words == 'tree') && (rand_range(3) == 1)) {
        words = 'bugs ' + choose(trans);
      } else {
        words += s[p] + ' ' + choose(trans) + s[(p + 1) % 2];
      }
      words += ' the ' + choose(below) + choose(s) + '.';
      return words;
    }

    /*
    The site function generates the two-word lines
    The site function can generate two possible line types:
    (word from Above) OR (word from Below) + (first word made plural) + (word from intrans)
    */
    function site() {
      var words = '';
      if (rand_range(2) == 1) {
        words += choose(above);
      } else {
        words += choose(below);
      }
      words += 's ' + choose(intrans) + '.';
      return words;
    }

    //a third way of generating a line - these are the hyphenated lines
    /*
    
      stamp the straight arched clear driven —
      translate the straight objective dim —
    
    (spaces + word from imper + the + a string of adjectives + hyphen)
    
    */
    function cave() {
      var adjs = ('deep,' + choose(texture) + ',straight,winding,arched,cool,clear,pool').split(',');
      var target = 1 + rand_range(2);
      while (adjs.length > target) {
        adjs.splice(rand_range(adjs.length), 1);
      }
      var words = '\u00a0\u00a0' + choose(imper) + ' the ' + adjs.join(' ') + ' \u2014';
      return words;
    }


    //rg the do_line function here assembles a given line of text    
    function do_line() {
      var main = document.getElementById('main');

      foam1 = 'o0o.o0.o0o0.o0o0o0o.0o0o0.o0.o';
      foam2 = '0o.0.o0o0..o0o0o0o0o.0o.0o0.o0';
      foam3 = 'o00o0o.o0.o0o.0o..o.o0o.0o0o.o';
      foam4 = 'o0.0oo.0o00o0.o.0o00o0o..o0oo0';

      max = 30;

      //if just starting to run, add a line, else remove a line before adding one    
      if (t <= max) {
        t += 1;
      } else {
        main.removeChild(document.getElementById('main').lastChild);
      }
      //if first line, then leave a blank. try messing with it! (in single quotes is a string)   
      if (n === 0) {
        text = ' ';
        // here we're doing different things in different cases. note here that whatever text equals is the kind of 
        // line created (path, site, cave, or blank line)     
      } else if (n == 1) {
        paths = 2 + rand_range(2);
        text = path();
      } else if (n < paths) {
        text = site();
      } else if (n == paths) {
        text = path();
      } else if (n == paths + 1) {
        text = ' ';
      } else if (n == paths + 2) {
        text = cave();
      } else {
        text = ' ';
        n = 0;
      }
      n += 1;
      text = text.substring(0, 1).toUpperCase() + text.substring(1, text.length);
      last = document.createElement('div');
      last.appendChild(document.createTextNode(text));
      main.prepend(last);
      // add foam string to bottom of the poem
      if (t > max) {
        main.removeChild(document.getElementById('main').lastChild);
        foam = document.createElement('div');
        switch (rand_range(3)) {
          case 1:
            foam.innerHTML = foam1;
            break;
          case 2:
            foam.innerHTML = foam2;
            break;
          case 3:
            foam.innerHTML = foam3;
            break;
          default:
            foam.innerHTML = foam4;
            break;
        }
        foam.id += 'foam'
        main.append(foam);
      }
    }

    function poem() {
      setInterval(do_line, 500);
    }


  </script>
  <title>Torrid Glen</title>
</head>

<body onload="poem()">

  <div id="credit-list">
    <div>Taroko Gorge &middot; 2009-01-08</div>
    <del>Nick Montfort</del><br />
    <del>Scott Rettberg</del> <a href="http://retts.net/tokyogarage.html">[SR]</a><br />
    <del>J.R. Carpenter</del> <a href="http://luckysoap.com/generations/gorge.html">[JRC]</a><br />
    <del>J.R. Carpenter</del> <a href="http://luckysoap.com/generations/whisperwire.html">[JRC]</a><br />
    <del>J.R. Carpenter</del> <a href="http://luckysoap.com/alongthebrinybeach/">[JRC]</a><br />
    <del>Talan Memmott</del> <a href="http://talanmemmott.info/ex/websupplement/toygarbage/index.html">[TM]</a><br />
    <del>Eric Snodgrass</del> <a href="http://exinfoam.wordpress.com/2011/07/18/yoko-engorged/">[ES]</a><br />
    <del>Mark Sample</del> <a href="http://samplereality.com/elit/takeigeorge.html">[MS]</a><br />
    <del>Maria Engberg</del> <a href="http://polyaesthetics.org/AloneEngaged.html">[ME]</a><br />
    <del>Flourish Klink</del> <a href="http://www.madelineklink.com/portfolio/fredandgeorge.html">[FK]</a><br />
    <del>Andrew Plotkin</del> <a href="http://www.eblong.com/zarf/argot-ogre-ok.html">[AP]</a><br />
    <del>Brendan Howell</del> <a href="http://wintermute.org/brendan/?p=designer-gulch">[BH]</a><br />
    <del>Adam Sylvain</del> <a href="http://mason.gmu.edu/~asylvain/">[AS]</a><br />
    <del>Leonardo Flores</del> <a href="http://academic.uprm.edu/flores/TarokoGary.html">[LF]</a><br />
    <del>Alireza Mahzoon</del> <a href="http://alimahzoon.com/html/mp2ab/final2.html">[AM]</a><br />
    <del>Sonny Rae Tempest</del> <a href="http://thefwordsrt.appspot.com/cameltail.html">[SRT]</a><br />
    <del>Kathi Inman Berens</del> <a href="http://berens.org/kib/elit/tournedo2.html">[KIB]</a><br />
    <del>Helen Burgess</del> <a href="http://helenburgess.com/cheese/index.html">[HB]</a><br />
    <del>Judy Malloy</del> <a href="http://www.artcalifornia.net/scholars_contemplate.html">[JM]</a><br />
    <del>Bob Bonsall</del> <a href="http://mason.gmu.edu/~rbonsal1/DarkSideoftheWall.html">[BB]</a><br />
    <del>Chuck Rybak</del> <a href="http://www.sadiron.com/tacoma-grunge/">[CR]</a><br />
    <del>Zach Whalen</del> <a href="http://zachwhalen.net/pg/forge/forge.html">[ZW]</a><br />
    <del>Leonardo Flores</del> <a href="http://springgunpress.com/leonardoflores/transmogrify">[LF]</a><br />
    <del>John Pat McNamara</del> <a href="http://www.digitalvitalism.com/take_ogre.html">[JPM]</a><br />
    <del>James T. Burling</del> <a href="http://www.burling.org/jtburling/Wandering.html">[JTB]</a><br />
    <del>Piotr Marecki &amp;<br> Aleksandra Małecka</a></del> <a
      href="http://ha.art.pl/nick_montfort/wawoz_taroko.html">[PM&amp;AM]</a><br />
    <del>Darius Kazemi</del> <a href="http://tinysubversions.com/stuff/gorge/">[DK]</a><br />
    <del>Roman Kalinovski</del> <a href="http://www.romankalinovski.com/#/digital-projects/">[RK]</a><br />
    <del>Anders Gonzo Gaard</del> <a href="http://www.kardemommepartiet.no/">[AGG]</a><br />
    <del>Piotr Marecki</del> <a href="http://ha.art.pl/nick_montfort/wawoz_taroko.html">[PM]</a><br />
    <del>Scott Rettburg &amp;<br> Mariusz Pisarski</del> <a href="http://techsty.art.pl/m10/garaz_tokio.html">[SR&amp;MP]</a><br />
    <del>Mariusz Pisarski</del> <a href="http://techsty.art.pl/m10/oko_na_donbas.html">[MP]</a><br />
    <del>Robert Fletcher</del> <a href="http://digitaliteracies.net/Karaoke_Mirage.html">[BF]</a><br />
    <del>Stuart Moulthrop</del> <a href="http://pantherfile.uwm.edu/moulthro/hypertexts/myGorge/">[SM]</a><br />
    <a href="http://nickm.com">Nick Montfort &middot; 2016-03-01</a><br>
    <a target='_blank' href="https://knightingale0.github.io">Katie Niederhoff&middot; 2026-02-19</a><br />

  </div>

  <div id="main"></div>
</body>

</html>